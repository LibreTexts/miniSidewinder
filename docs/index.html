<html>

<head>
    <title>Mini Sidewinder Demo v0.10</title>
	
	<style>
body {
  background-color: linen;

}

#sidewinderFrame {
        border: 3px line;
        width: 95%;
        height: 95%;
		overflow-y:scroll;
    }

	</style
</head>
<body>
<p>
Below is miniSidewinder demo. Load your SBML model and go. 
</p>
 <p>
 <script type="text/javascript">
 // This is the data that needs to be populated.
var newModel = "empty"; // SBML model in XML format. Some ways of populating string listed below.
var newRT = '10';  // Length of run
var newSS = '0.100'; // integrator step size
var staticRun = 'true'; // Display after all calculations are done.
</script>

<!-- Use this code if you want user to chose which model to load: -->
 <input type="file" name="inputfile" id="inputfile">
    <br> 
    <script type="text/javascript">
        document.getElementById('inputfile')
            .addEventListener('change', function() {
            var fr=new FileReader();
            fr.onload=function(){
				newModel = fr.result;
			    getInfo();
            }         
            fr.readAsText(this.files[0]);
        })
    </script>
 </p>
 <!-- END of user chosen model code -->
 <p>
 (testing purposes)
 <button onclick="getInfo()">Do not load model yet. </button>
 </p>
 <p>
 <iframe id='sidewinderFrame' > </iframe> 
 </p>
 <script type="text/javascript">
 function getInfo() {
   sessionStorage.setItem("MODEL", newModel);
   sessionStorage.setItem('RUNTIME', newRT);
   sessionStorage.setItem('STEPSIZE', newSS);
   sessionStorage.setItem('STATIC', staticRun);
   document.getElementById('sidewinderFrame').src = "/Debug/index.html?"; // Location of miniSidewinder
 }
 </script> 

<script type="text/javascript">
// Use this code if you have a predefined model to run located at some URL:
//fetch('http://localhost/models/simpleRXN.xml')
//  .then(response => response.text())
//  .then((data) => {
//    console.log(data);
//	newModel = data;
//	getInfo();
//  })
// END of predefined model code.
</script> 
  
</body>

</html>
